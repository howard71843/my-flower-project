/* App.css */

/* ... (其他樣式保持不變) ... */

/* --- GLOBAL BASE STYLES --- */
html {
  height: 100%;
  box-sizing: border-box;
}

*, *::before, *::after {
  box-sizing: inherit;
}

body {
  min-height: 100vh;
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background-color: #ffebcc;
  color: #333333;
}

/* --- APP CONTAINER STYLES --- */
#root {
  min-height: 100vh; /* 默認情況下填滿視窗高度 */
  width: 100%;
  display: flex;
  flex-direction: column;
}

.App {
  flex-grow: 1; /* 在 #root 中填滿剩餘空間 */
  width: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
}

/* --- CAMERA VIEW SPECIFIC STYLES --- */
body.camera-view-active {
  height: 100vh;
  width: 100vw;
  overflow: hidden !important;
  background-color: #121212;
  color: #e0e0e0;
  margin: 0;
  padding: 0;
}

body.camera-view-active #root {
  height: 100%; /* 確保 #root 在 camera view 時也填滿 body */
  width: 100%;
  /* display: flex; 已在 #root 全局設定中 */
  /* flex-direction: column; 已在 #root 全局設定中 */
}

/*
  如果 .App 在 camera-view-active 時需要特定高度，
  目前 .App 會通過 flex-grow: 1 繼承 #root 的高度，
  而 #root 在 camera-view-active 時是 height: 100%。
  所以 .App 也會是 100% 高度。
*/
/* body.camera-view-active .App {
  height: 100%;
} */


/* 相機頁面 (App.js 渲染的內容) 的頂層包裹器 */
.camera-page-wrapper {
  width: 100%;
  height: 100%; /* 填滿其父容器 (即 .App) */
  position: relative;
  display: flex;
  flex-direction: column;
  /* flex-grow: 1; 如果父容器 .App 不是 flex 或高度已確定，則 height:100% 更直接 */
  /* 為了確保它填滿 .App (已是 flex-item 且會被拉伸) height: 100% 應該足夠 */

  /* === MODIFICATION START === */
  padding-top: 60px; /* 為 fixed title bar 預留空間 */
  /* box-sizing: border-box; 已經由全局繼承，確保 padding 包含在 height/width 內 */
  /* === MODIFICATION END === */
}


/* ... (Popup 和 Title Bar Overlay 樣式不變) ... */
.popup { /* ... */ }
.popup-content { /* ... */ }
/* ... */
.title-bar-overlay { /* ... */ }
/* ... */


/* --- CAMERA MODE --- */
.camera-mode-container {
  width: 100%;
  /* height: 100%; -- 改用 flex-grow */
  /* === MODIFICATION START === */
  flex-grow: 1; /* 讓此容器填滿 .camera-page-wrapper 中的剩餘空間 (扣除 padding-top 後) */
  /* padding-top: 60px; -- MOVED to .camera-page-wrapper */
  /* === MODIFICATION END === */
  position: relative; /* 保持相對定位，如果內部有絕對定位元素 */
  background-color: #000; /* 相機背景 */
  display: flex;
  justify-content: center;
  align-items: center;
  /* box-sizing: border-box; 已經由全局繼承 */
}

.webcam-maximized {
  width: 100%;
  height: 100%; /* 填滿 camera-mode-container */
  object-fit: cover;
  display: block; /* 移除 video 元素可能的底部空白 */
}

.controls-overlay-bottom {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  padding: 20px 0;
  display: flex;
  justify-content: space-around;
  align-items: center;
  background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
  z-index: 50;
}
/* ... (其餘樣式如 overlay-action-btn, capture-btn-main 等保持不變) ... */

/* ... (Preview and Analysis Mode 樣式保持不變) ... */